# django-hsm-softhsm2-postgresql
Minimal implementation of SoftHSM2 + Django + PostgreSQL

Create minimal implementation:
- CA Key generation
- Certificate Generation
- Message Signing
- Message Verification

# Sequence Diagram
[![](https://mermaid.ink/img/eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtXG4gICAgb3B0IExvZ2luIFNjaGVtZVxuICAgICAgICBVc2VyIC0-PiBTZXJ2aWNlOiByZXF1ZXN0X2xvZ2luKCkgPGJyPiAoVXNlcm5hbWUsIFBhc3N3b3JkKVxuICAgICAgICBTZXJ2aWNlIC0-PiBTb2Z0SFNNOiBMb2dpbih0b2tlbl9pbmZvKSA8YnI-IDogbG9naW4gdG8gZGV2aWNlIHRva2VuXG4gICAgICAgIFNvZnRIU00gLT4-IFNlcnZpY2U6IHJlc3BvbnNlOiBUcnVlL0ZhbHNlXG4gICAgICAgIFNlcnZpY2UgLT4-IFBvc3RncmVTUUw6IFNhdmUgSW5mb3JtYXRpb24oRXg6IFRva2VuIHBhc3N3b3JkICsgVG9rZW4gTGFiZWwpXG4gICAgICAgIFNlcnZpY2UgLT4-IFVzZXI6IHJlc3BvbnNlOiBBY2Nlc3MgQ29kZVxuICAgIGVuZFxuICAgIG9wdCBHZW5lcmF0ZSBLZXlcbiAgICAgICAgVXNlciAtPj4gU2VydmljZTogcmVxdWVzdF9nZW5fa2V5KCkgPGJyPiBwYXlsb2FkX2dlbl9rZXlcbiAgICAgICAgU2VydmljZSAtPj4gUG9zdGdyZVNRTDogR2V0IFRva2VuIEluZm8oKVxuICAgICAgICBQb3N0Z3JlU1FMIC0-PiBTZXJ2aWNlOiBUb2tlbiBJbmZvIChUb2tlbiBQYXNzd29yZCArIExhYmVsKVxuICAgICAgICBTZXJ2aWNlIC0-PiBTb2Z0SFNNOiBMb2dpbihUb2tlbl9pbmZvKVxuICAgICAgICBTb2Z0SFNNIC0-PiBTZXJ2aWNlOiByZXNwb25zZTogVHJ1ZS9GYWxzZVxuICAgICAgICBTZXJ2aWNlIC0-PiBTb2Z0SFNNOiBSZXF1ZXN0IEtleSBnZW5lcmF0aW9uXG4gICAgICAgIFNvZnRIU00gLT4-IFNlcnZpY2U6IEtleSBnZW5lcmF0ZWRcbiAgICAgICAgU2VydmljZSAtPj4gVXNlcjogcmVzcG9uc2U6IFB1YmxpYyBrZXlcbiAgICBlbmRcbiAgICBvcHQgU2lnbmluZyBNZXNzYWdlXG4gICAgICAgIFVzZXIgLT4-IFNlcnZpY2U6IHJlcXVlc3Rfc2lnbmluZygpIDxicj4gKG1lc3NhZ2UsIGtleV9pZClcbiAgICAgICAgU2VydmljZSAtPj4gUG9zdGdyZVNRTDogR2V0IFRva2VuIEluZm8oKVxuICAgICAgICBQb3N0Z3JlU1FMIC0-PiBTZXJ2aWNlOiBUb2tlbiBJbmZvIChUb2tlbiBQYXNzd29yZCArIExhYmVsKVxuICAgICAgICBTZXJ2aWNlIC0-PiBTb2Z0SFNNOiBMb2dpbihUb2tlbl9pbmZvKVxuICAgICAgICBTb2Z0SFNNIC0-PiBTZXJ2aWNlOiByZXNwb25zZTogVHJ1ZS9GYWxzZVxuICAgICAgICBTZXJ2aWNlIC0-PiBTb2Z0SFNNOiBTaWduaW5nKG1lc3NhZ2UpXG4gICAgICAgIFNvZnRIU00gLT4-IFNlcnZpY2U6IFNpZ25lZF9tZXNzYWdlXG4gICAgICAgIFNlcnZpY2UgLT4-IFVzZXI6IHJlcHNvbmU6IFNpZ25lZCBLZXlcbiAgICBlbmRcbiAgICBvcHQgVmVyaWZ5IE1lc3NhZ2VcbiAgICAgICAgVXNlciAtPj4gU2VydmljZTogcmVxdWVzdF92ZXJpZnkoKSA8YnI-IChtZXNzYWdlLCBrZXlfaWQpXG4gICAgICAgIFNlcnZpY2UgLT4-IFBvc3RncmVTUUw6IEdldCBUb2tlbiBJbmZvKClcbiAgICAgICAgUG9zdGdyZVNRTCAtPj4gU2VydmljZTogVG9rZW4gSW5mbyAoVG9rZW4gUGFzc3dvcmQgKyBMYWJlbClcbiAgICAgICAgU2VydmljZSAtPj4gU29mdEhTTTogTG9naW4oVG9rZW5faW5mbylcbiAgICAgICAgU29mdEhTTSAtPj4gU2VydmljZTogcmVzcG9uc2U6IFRydWUvRmFsc2VcbiAgICAgICAgU2VydmljZSAtPj4gU29mdEhTTTogVmVyaWZ5KG1lc3NhZ2UpXG4gICAgICAgIFNvZnRIU00gLT4-IFNlcnZpY2U6IFRydWUvRmFsc2VcbiAgICAgICAgU2VydmljZSAtPj4gVXNlcjogcmVwc29uZTogVmVyaWZ5X3N0YXR1cyhUL0YpXG4gICAgZW5kXG4iLCJtZXJtYWlkIjp7InRoZW1lIjoiZGVmYXVsdCJ9LCJ1cGRhdGVFZGl0b3IiOmZhbHNlLCJhdXRvU3luYyI6dHJ1ZSwidXBkYXRlRGlhZ3JhbSI6ZmFsc2V9)](https://mermaid-js.github.io/mermaid-live-editor/edit#eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtXG4gICAgb3B0IExvZ2luIFNjaGVtZVxuICAgICAgICBVc2VyIC0-PiBTZXJ2aWNlOiByZXF1ZXN0X2xvZ2luKCkgPGJyPiAoVXNlcm5hbWUsIFBhc3N3b3JkKVxuICAgICAgICBTZXJ2aWNlIC0-PiBTb2Z0SFNNOiBMb2dpbih0b2tlbl9pbmZvKSA8YnI-IDogbG9naW4gdG8gZGV2aWNlIHRva2VuXG4gICAgICAgIFNvZnRIU00gLT4-IFNlcnZpY2U6IHJlc3BvbnNlOiBUcnVlL0ZhbHNlXG4gICAgICAgIFNlcnZpY2UgLT4-IFBvc3RncmVTUUw6IFNhdmUgSW5mb3JtYXRpb24oRXg6IFRva2VuIHBhc3N3b3JkICsgVG9rZW4gTGFiZWwpXG4gICAgICAgIFNlcnZpY2UgLT4-IFVzZXI6IHJlc3BvbnNlOiBBY2Nlc3MgQ29kZVxuICAgIGVuZFxuICAgIG9wdCBHZW5lcmF0ZSBLZXlcbiAgICAgICAgVXNlciAtPj4gU2VydmljZTogcmVxdWVzdF9nZW5fa2V5KCkgPGJyPiBwYXlsb2FkX2dlbl9rZXlcbiAgICAgICAgU2VydmljZSAtPj4gUG9zdGdyZVNRTDogR2V0IFRva2VuIEluZm8oKVxuICAgICAgICBQb3N0Z3JlU1FMIC0-PiBTZXJ2aWNlOiBUb2tlbiBJbmZvIChUb2tlbiBQYXNzd29yZCArIExhYmVsKVxuICAgICAgICBTZXJ2aWNlIC0-PiBTb2Z0SFNNOiBMb2dpbihUb2tlbl9pbmZvKVxuICAgICAgICBTb2Z0SFNNIC0-PiBTZXJ2aWNlOiByZXNwb25zZTogVHJ1ZS9GYWxzZVxuICAgICAgICBTZXJ2aWNlIC0-PiBTb2Z0SFNNOiBSZXF1ZXN0IEtleSBnZW5lcmF0aW9uXG4gICAgICAgIFNvZnRIU00gLT4-IFNlcnZpY2U6IEtleSBnZW5lcmF0ZWRcbiAgICAgICAgU2VydmljZSAtPj4gVXNlcjogcmVzcG9uc2U6IFB1YmxpYyBrZXlcbiAgICBlbmRcbiAgICBvcHQgU2lnbmluZyBNZXNzYWdlXG4gICAgICAgIFVzZXIgLT4-IFNlcnZpY2U6IHJlcXVlc3Rfc2lnbmluZygpIDxicj4gKG1lc3NhZ2UsIGtleV9pZClcbiAgICAgICAgU2VydmljZSAtPj4gUG9zdGdyZVNRTDogR2V0IFRva2VuIEluZm8oKVxuICAgICAgICBQb3N0Z3JlU1FMIC0-PiBTZXJ2aWNlOiBUb2tlbiBJbmZvIChUb2tlbiBQYXNzd29yZCArIExhYmVsKVxuICAgICAgICBTZXJ2aWNlIC0-PiBTb2Z0SFNNOiBMb2dpbihUb2tlbl9pbmZvKVxuICAgICAgICBTb2Z0SFNNIC0-PiBTZXJ2aWNlOiByZXNwb25zZTogVHJ1ZS9GYWxzZVxuICAgICAgICBTZXJ2aWNlIC0-PiBTb2Z0SFNNOiBTaWduaW5nKG1lc3NhZ2UpXG4gICAgICAgIFNvZnRIU00gLT4-IFNlcnZpY2U6IFNpZ25lZF9tZXNzYWdlXG4gICAgICAgIFNlcnZpY2UgLT4-IFVzZXI6IHJlcHNvbmU6IFNpZ25lZCBLZXlcbiAgICBlbmRcbiAgICBvcHQgVmVyaWZ5IE1lc3NhZ2VcbiAgICAgICAgVXNlciAtPj4gU2VydmljZTogcmVxdWVzdF92ZXJpZnkoKSA8YnI-IChtZXNzYWdlLCBrZXlfaWQpXG4gICAgICAgIFNlcnZpY2UgLT4-IFBvc3RncmVTUUw6IEdldCBUb2tlbiBJbmZvKClcbiAgICAgICAgUG9zdGdyZVNRTCAtPj4gU2VydmljZTogVG9rZW4gSW5mbyAoVG9rZW4gUGFzc3dvcmQgKyBMYWJlbClcbiAgICAgICAgU2VydmljZSAtPj4gU29mdEhTTTogTG9naW4oVG9rZW5faW5mbylcbiAgICAgICAgU29mdEhTTSAtPj4gU2VydmljZTogcmVzcG9uc2U6IFRydWUvRmFsc2VcbiAgICAgICAgU2VydmljZSAtPj4gU29mdEhTTTogVmVyaWZ5KG1lc3NhZ2UpXG4gICAgICAgIFNvZnRIU00gLT4-IFNlcnZpY2U6IFRydWUvRmFsc2VcbiAgICAgICAgU2VydmljZSAtPj4gVXNlcjogcmVwc29uZTogVmVyaWZ5X3N0YXR1cyhUL0YpXG4gICAgZW5kXG4iLCJtZXJtYWlkIjoie1xuICBcInRoZW1lXCI6IFwiZGVmYXVsdFwiXG59IiwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOmZhbHNlfQ)

# Author
Aji Setyoko